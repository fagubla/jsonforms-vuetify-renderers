{
  "type": "VerticalLayout",
  "elements": [
    {
      "type": "Group",
      "label": "Public Apis service",
      "elements": [
        {
          "type": "Dropdown",
          "scope": "#/properties/letter",
          "options": {
            "items": [
              {
                "label": "A1",
                "value": "A"
              },
              {
                "label": "B1",
                "value": "B"
              },
              {
                "label": "C1",
                "value": "C"
              },
              {
                "label": "D1",
                "value": "D"
              },
              {
                "label": "E1",
                "value": "E"
              },
              {
                "label": "F1",
                "value": "F"
              },
              {
                "label": "G1",
                "value": "G"
              },
              {
                "label": "H1",
                "value": "H"
              },
              {
                "label": "I1",
                "value": "I"
              },
              {
                "label": "H1",
                "value": "H"
              }
            ],
            "events": {
              "onChange": {
                "arguments": "JForm,nval,oval",
                "body": "JForm.setValue('custom', nval.label);"
              }
            }
          }
        },
        {
          "type": "Suggest",
          "scope": "#/properties/categories",
          "options": {
            "suggest": true,
            "url": "https://api.publicapis.org/entries",
            "query": "test",
            "placeholder": "Start typing to Search {{personalPlaceholder}}",
            "items": "return fetch('https://api.publicapis.org/categories').then((res) => res.json()).then((res) => {return _.map(_.uniq(_.filter(res.categories, (o)=> { return  o.charAt(0)== payload.letter.value;})), (v)=>{ return { value:v, label:v}});});",
            "events": {}
          },
          "rule": {
            "effect": "ONCHANGE",
            "condition": {
              "type": "AND",
              "conditions": [
                {
                  "type": "DEPENDENCY",
                  "scope": "#/properties/letter"
                }
              ]
            }
          }
        },
        {
          "type": "RadioGroup",
          "scope": "#/properties/entries",
          "options": {
            "items": "return fetch('https://api.publicapis.org/entries?'+ ( new URLSearchParams( {category:payload.categories.value} ) ).toString(),{method: 'GET'}).then((res) => res.json()).then((res) => {return _.map( _.uniq(_.map( _.slice(res.entries, 0, 50), (o)=> { return o.API;})),(v)=>{ return {value:v,label:v}});});",
            "events": {}
          },
          "rule": {
            "effect": "ONCHANGE",
            "condition": {
              "type": "AND",
              "conditions": [
                {
                  "type": "DEPENDENCY",
                  "scope": "#/properties/letter"
                },
                {
                  "type": "DEPENDENCY",
                  "scope": "#/properties/categories"
                }
              ]
            }
          }
        },
        {
          "type": "Control",
          "scope": "#/properties/custom"
        }
      ]
    }
  ]
}
